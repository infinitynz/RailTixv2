@model RailTix.Models.ViewModels.Cms.Admin.CmsReservedRouteListViewModel
@{
	ViewData["Title"] = "Reserved Routes";
}

<div class="cms-admin table-shell">
	<div class="table-shell__header">
		<h1 class="table-shell__title">Reserved Routes</h1>
		<a class="btn btn-primary" href="/account/admin/content/reserved-routes/create">Add Reserved Route</a>
	</div>

	@if (Model.Routes.Count == 0)
	{
		<p>No reserved routes configured.</p>
	}
	else
	{
		<div class="table-wrap">
			<table class="table">
				<thead>
					<tr>
						<th>Segment</th>
						<th>Status</th>
						<th></th>
					</tr>
				</thead>
				<tbody>
					@foreach (var route in Model.Routes)
					{
						<tr>
							<td><code>/@route.Segment</code></td>
							<td>@(route.IsActive ? "Active" : "Inactive")</td>
							<td>
								<div class="table-actions">
									<a class="table-actions__link" href="/account/admin/content/reserved-routes/@route.Id/edit">Edit</a>
									<form method="post"
										  action="/account/admin/content/reserved-routes/@route.Id/delete"
										  class="table-actions__form"
										  onsubmit="return confirm('Delete this reserved segment?');">
										@Html.AntiForgeryToken()
										<button type="submit" class="table-actions__link table-actions__link--danger">Delete</button>
									</form>
								</div>
							</td>
						</tr>
					}
				</tbody>
			</table>
		</div>
	}
</div>

